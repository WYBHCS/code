<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>403 禁止访问</title>
    <style>
        /* 页面完全空白，隐藏所有元素 */
        * { display: none !important; }
        body { margin: 0; padding: 0; background: #fff; overflow: hidden; }
    </style>
</head>
<body>
    <script>
        (function() {
            // 1. 优先执行网址掩饰（使用同源相对路径，避免跨域错误）
            try {
                // 方案A：替换为同源的403路径（推荐，地址栏显示：https://wybhcs.github.io/403）
                history.replaceState(null, "403 禁止访问", "/403");
                
                // 方案B：替换为根路径（地址栏显示：https://wybhcs.github.io/）
                // history.replaceState(null, "", "/");
                
                // 方案C：替换为空白锚点（地址栏显示：https://wybhcs.github.io/#）
                // history.replaceState(null, "", "#");
            } catch (e) {
                console.error("网址掩饰执行失败：", e.message);
            }

            // 2. 弹出阻塞式alert，点击确认后执行后续操作
            alert("您无访问权限");

            // 3. 清除所有Storage（localStorage + sessionStorage）
            try {
                localStorage.clear();
                sessionStorage.clear();
                console.log("Storage 清理完成");
            } catch (e) {
                console.error("Storage 清理失败：", e.message);
            }

            // 4. 清除所有Cookie（适配子域名和多路径）
            try {
                const cookies = document.cookie.split("; ");
                const domain = window.location.hostname;
                const paths = ["", "/", "/code"]; // 覆盖GitHub Pages常见路径
                
                for (const cookie of cookies) {
                    if (!cookie) continue;
                    const name = cookie.split("=")[0];
                    
                    // 遍历所有可能路径，确保彻底删除
                    for (const path of paths) {
                        document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=${domain}; path=${path}; secure; samesite=Strict;`;
                    }
                }
                console.log("Cookie 清理完成");
            } catch (e) {
                console.error("Cookie 清理失败：", e.message);
            }

            // 5. 退出网站（替换历史记录+跳转空白页，最小化痕迹）
            try {
                // 先替换当前历史记录为空白页，再跳转
                history.replaceState(null, "", "about:blank");
                window.location.replace("about:blank");
                
                // 尝试关闭标签页（仅对JS打开的标签页有效，不影响主逻辑）
                if (window.opener) window.close();
            } catch (e) {
                window.location.href = "about:blank";
            }
        })();
    </script>
</body>
</html>
